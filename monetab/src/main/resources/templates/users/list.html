<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head th:insert="fragments/fragments :: html_head"></head>
<body>
<div th:insert="fragments/fragments :: sidebar"></div>
<div class="main-content">
    <h1>Utilisateurs (<span th:text="${users.size()}"></span>)</h1>
    <button class="buttonBlue" id="addUser" th:onclick="'window.location.href=\'/users/add\';'">+ Nouvel utilisateur</button>
    <table>
        <thead>
        <tr>
            <th>Pseudo</th>
<!--            <th>Email</th>-->
<!--            <th>Rôle</th>-->
            <th>Date de Création</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user : ${users}">
            <td th:text="${user.pseudo}">Pseudo</td>
<!--            <td th:text="${user.email}">Email</td>-->
<!--            <td th:text="${user.role}">Rôle</td>-->
            <td th:text="${#dates.format(user.creationDate, 'dd-MM-yyyy')}">Date de Création</td>
            <td>
                <a class="buttonOrg" th:href="@{/users/update/{id}(id=${user.id})}">Modifier</a>
<!--                <button class="buttonRed" th:onclick="'showConfirmationPopup(' + ${user.id} + ', \'user\')'">Supprimer</button>-->
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Pop-up de confirmation -->
<!--<div id="confirmationPopup" class="popup">-->
<!--    <div class="popup-content">-->
<!--        <h2>ATTENTION !!!</h2>-->
<!--        <p>Voulez-vous supprimer cet utilisateur ?</p>-->
<!--        <div class="popup-buttons">-->
<!--            <button id="cancelBtn" class="btn buttonRed" onclick="hideConfirmationPopup()">Non</button>-->
<!--            <form id="deleteForm" method="post">-->
<!--                <input type="hidden" name="_method" value="delete"/> &lt;!&ndash; Utilisé pour DELETE dans POST &ndash;&gt;-->
<!--                <button type="submit" class="btn buttonRed">Supprimer</button>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->


<th:block th:insert="fragments/fragments :: script"></th:block>
</body>
</html>
